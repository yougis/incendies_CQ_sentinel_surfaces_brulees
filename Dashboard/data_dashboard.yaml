sources:
  surfaces_brulees_brute_control:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from feux_cq."surfaces_brulees_brute_control"
      table: feux_cq."surfaces_brulees_brute_control"
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_WORKSPACE")}}
    description: Incendies Sentinel Detectees CONTROLE
    driver: intake_geopandas.geopandas.PostGISSource

  tile_sentinel2_line_UTM:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from carto."tiles_sentinel2_UTM_line"
      table: carto."tiles_sentinel2_UTM_line"
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_WORKSPACE")}}
    description: limites des tuiles sentinel2 en format ligne
    driver: intake_geopandas.geopandas.PostGISSource

  vue_sentinel_brute_no_geom:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from feux_cq."vue_sentinel_brute_no_geom" 
      table: feux_cq."vue_sentinel_brute_no_geom"
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_WORKSPACE")}}
    description: vue_sentinel_brute_no_geom
    driver: intake_geopandas.geopandas.PostGISSource

  incendie_viirs_noaa20_maj:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from feux."incendie_viirs_noaa20_maj" 
      table: feux."incendie_viirs_noaa20_maj"
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_REF")}}
    description: incendie_viirs_noaa20_maj
    driver: intake_geopandas.geopandas.PostGISSource

  incendie_viirs_snpp_maj:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from feux."incendie_viirs_snpp_maj" 
      table: feux."incendie_viirs_snpp_maj"
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_REF")}}
    description: incendie_viirs_snpp_maj
    driver: intake_geopandas.geopandas.PostGISSource

  vue_nc_simplifiee:
    args:
      geopandas_kwargs:
        geom_col: geometry
        crs: 3163
      sql_expr: select * from carto."vue_nc_province_commune_her_sans_ilots_simplifiee" where level ='NC'
      table: carto.vue_nc_province_commune_her_sans_ilots_simplifiee
      uri: postgresql://{{env("DB_USER")}}:{{env("DB_PWD")}}@{{env("DB_HOST")}}:{{env("DB_PORT")}}/{{env("DB_WORKSPACE")}}
    description: vue_nc_province_commune_her_sans_ilots_simplifiee
    driver: intake_geopandas.geopandas.PostGISSource

  list_of_tiles:
    args:
      urlpath: /media/archive/FEUX_INSIGHT/combined_list_of_tiles.csv
      delimiter: ','
      header: null  
    description: combined_list_of_tiles
    driver: intake.source.csv.CSVSource
